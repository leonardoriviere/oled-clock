<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clock</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #000;
  overflow: hidden;
  cursor: none;
  user-select: none;
  -webkit-user-select: none;
  width: 100vw;
  height: 100vh;
  position: relative;
}
#clock {
  position: absolute;
  font-family: monospace;
  font-size: 8vw;
  color: #1a1a1a;
  line-height: 1;
  transition: top 60s linear, left 60s linear;
  white-space: nowrap;
}
</style>
</head>
<body>
<div id="clock"></div>
<video id="nosleep" playsinline muted loop style="position:fixed;top:-1px;left:-1px;width:1px;height:1px;opacity:0.01"></video>
<script>
var clock = document.getElementById('clock');

// Prevent screensaver: silent video loop + Wake Lock API
(function preventScreensaver() {
  // Tiny silent MP4 (base64) â€” tricks the TV into thinking media is playing
  var video = document.getElementById('nosleep');
  video.src = 'data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAAhtZGF0AAAA1m1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAYaWlvZHMAAAAAEICAgAcAT////v7/AAAAR3RyYWsAAABcdGtoZAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAA';
  video.play().catch(function() {});

  // Also try Wake Lock API (modern browsers)
  if ('wakeLock' in navigator) {
    navigator.wakeLock.request('screen').catch(function() {});
    document.addEventListener('visibilitychange', function() {
      if (document.visibilityState === 'visible') {
        navigator.wakeLock.request('screen').catch(function() {});
      }
    });
  }
})();

function pad(n) {
  return n < 10 ? '0' + n : '' + n;
}

function updateClock() {
  const now = new Date();
  clock.textContent = pad(now.getHours()) + ':' + pad(now.getMinutes());
}

function reposition() {
  const rect = clock.getBoundingClientRect();
  const maxX = window.innerWidth - rect.width;
  const maxY = window.innerHeight - rect.height;
  clock.style.left = Math.floor(Math.random() * Math.max(0, maxX)) + 'px';
  clock.style.top = Math.floor(Math.random() * Math.max(0, maxY)) + 'px';
}

function toggleFullscreen() {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen().catch(function() {});
  } else {
    document.exitFullscreen().catch(function() {});
  }
}

updateClock();
setInterval(updateClock, 1000);

reposition();
setInterval(reposition, 60000);

document.addEventListener('click', toggleFullscreen);
window.addEventListener('resize', function() {
  clock.style.transition = 'none';
  reposition();
  requestAnimationFrame(function() {
    clock.style.transition = 'top 60s linear, left 60s linear';
  });
});
</script>
</body>
</html>
